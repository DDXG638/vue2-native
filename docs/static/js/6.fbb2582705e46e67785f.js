webpackJsonp([6],{"3ujf":function(n,e,t){"use strict";function o(n){t("m5dc")}Object.defineProperty(e,"__esModule",{value:!0});var a=t("mvHQ"),s=t.n(a),r=t("fZjL"),i=t.n(r),c={name:"my2048",data:function(){return{show:!1,msg:"",pass:!1,start:{},nums:[],myEl:document.querySelector("#game2048")||null}},mounted:function(){this.myEl=document.querySelector("#game2048"),this.myEl.addEventListener("keyup",this.keyDown),this.myEl.querySelector("#game2048 ul").addEventListener("touchstart",this.touchStart),this.myEl.querySelector("#game2048 ul").addEventListener("touchend",this.touchEnd),this.myEl.addEventListener("touchmove",function(n){n.target.classList.contains("box")&&n.preventDefault()}),localStorage.save1?this.nums=JSON.parse(localStorage.save1):this.reset()},directives:{getclass:{inserted:function(n,e,t){var o=n.classList;[].forEach.call(o,function(n){/^s\w+$/.test(n)&&o.remove(n)}),o.remove("empty"),e.value?o.add("s"+e.value):o.add("empty")},update:function(n,e,t){var o=n.classList;[].forEach.call(o,function(n){/^s\w+$/.test(n)&&o.remove(n)}),o.remove("empty"),e.value?o.add("s"+e.value):o.add("empty")}},getposition:{inserted:function(n,e,t){var o=function(n,e){var t=e?"%":"";return{left:n%4*25+t,top:25*Math.floor(n/4)+t}}(e.value,!0);n.style.left=o.left,n.style.top=o.top}}},methods:{getIndexPos:function(n,e){var t=e?"%":"";return{left:n%4*25+t,top:25*Math.floor(n/4)+t}},randomAdd:function(){var n=this,e=this.shuffle(this.blankIndex());setTimeout(function(t){n.$set(n.nums,e.pop(),Math.random()>.9?4:2)},100)},newBoxApear:function(n,e,t){var o=e?"s"+e:"empty",a=t?" combin":"",s=document.createElement("div"),r=this.getIndexPos(n,!0);return s.className=o+" box"+a,s.style.left=r.left,s.style.top=r.top,s.innerText=e||"",document.getElementById("game-wrap").appendChild(s),s},blankIndex:function(){var n=[];return this.nums.forEach(function(e,t){""===e&&n.push(t)}),n},shuffle:function(n){for(var e=n.length,t=void 0;e--;){t=parseInt(Math.random()*e);var o=[n[t],n[e]];n[e]=o[0],n[t]=o[1]}return n},T:function(n,e){if(0===(e%=4))return n;for(var t=n.length,o=Math.sqrt(t),a=[],s=0;s<o;s+=1)for(var r=0;r<o;r+=1)a[o-s-1+r*o]=n[s*o+r];return e>1&&(a=this.T(a,e-1)),a},touchStart:function(n){this.start.x=n.changedTouches[0].pageX,this.start.y=n.changedTouches[0].pageY},touchEnd:function(n){var e=n.changedTouches[0],t=e.pageX-this.start.x,o=e.pageY-this.start.y,a=Math.abs(t),s=Math.abs(o),r=0;a<50&&s<50||(r=a>=s?t<0?0:2:o<0?3:1,this.handle(r))},keyDown:function(n){var e={37:0,38:3,39:2,40:1,87:3,68:2,83:1,65:0};n.keyCode in e&&this.handle(e[n.keyCode])},handle:function(n){this.move(n),this.save(),this.isPass()},move:function(n){var e=this,t=this.T(i()(String(Array(17))),n),o=this.T(this.nums,n),a=!1,s={};o.forEach(function(n,r){for(var i=0,c=t[r]-0,l=!1,d=0;r%4&&""!==n;){if(""===o[r-1])o[r-1]=n,o[r]="",a=!0,l=!0,s[r]&&(s[r-1]=!0,s[r]=!1),i=r-1;else{if(o[r-1]!==n||s[r]||s[r-1])break;n*=2,o[r-1]=n,o[r]="",a=!0,l=!0,d=n,s[r-1]=!0,i=r-1}r--}l&&e.moveNode(c,t[i],d)}),setTimeout(function(t){e.nums=e.T(o,4-n),a&&e.randomAdd()},101)},moveNode:function(n,e,t){var o=this.myEl.querySelectorAll(".box"),a=o[n],s=a.cloneNode(!0),r=a.parentNode,i=this.getIndexPos(n,!0),c=o[o.length-1].cloneNode();c.className="box empty",c.style.left=i.left,c.style.top=i.top,r.insertAdjacentElement("beforeEnd",c),a.style.opacity=0;var l=null;t&&(l=this.newBoxApear(e,t,!0));var d=this.getIndexPos(e);s.style.left===d.left+"%"?s.classList.add("y"+d.top):s.classList.add("x"+d.left),r.insertAdjacentElement("beforeEnd",s),s.addEventListener("animationend",function(n){s.remove(),l&&l.remove(),c.remove(),a.style.opacity=1})},save:function(){localStorage.save1=s()(this.nums)},reset:function(){this.nums=Array(16).join("-").split("-");for(var n=0;n++<2;)this.randomAdd();this.show=!1},isPass:function(){var n=this,e=!0,t=this.T(this.nums,1);this.nums.forEach(function(o,a){o&&n.nums[a-4]!==o&&n.nums[a+4]!==o&&t[a-4]!==t[a]&&t[a+4]!==t[a]||(e=!1),2048!==o||n.pass||(n.msg="2048",n.show=n.pass=!0)}),e&&(this.msg="Game Over",this.show=!0)}}},l=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("transition",{attrs:{name:"fadeIn"}},[t("div",{attrs:{id:"game2048"}},[t("my-header",{attrs:{fixed:"",title:"2048游戏",isOpacity:""}},[t("a",{staticClass:"back-white",attrs:{slot:"left"},on:{click:function(e){n.$router.go(-1)}},slot:"left"})]),n._v(" "),t("ul",{attrs:{id:"game-wrap"}},n._l(n.nums,function(e,o){return t("li",{directives:[{name:"getclass",rawName:"v-getclass",value:e,expression:"num"},{name:"getposition",rawName:"v-getposition",value:o,expression:"index"}],key:o,staticClass:"box",domProps:{textContent:n._s(e)}})})),n._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:n.show,expression:"show"}],staticClass:"mask",on:{click:function(e){n.show=!1}}},[t("div",[n._v(n._s(n.msg))])]),n._v(" "),t("button",{on:{click:n.reset}},[n._v("重置")])],1)])},d=[],f={render:l,staticRenderFns:d},u=f,m=t("VU/8"),p=o,h=m(c,u,!1,p,null,null);e.default=h.exports},"8iHD":function(n,e,t){var o=t("kxFB");e=n.exports=t("FZ+f")(!1),e.i(t("mmls"),""),e.push([n.i,"\n@font-face {\n    font-family: 'Inknut Antiqua';\n    font-style: normal;\n    font-weight: 400;\n    src: local('InknutAntiqua-Regular'),url("+o(t("exHD"))+") format('woff2');\n    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;\n}\n#game2048 {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    overflow: auto;\n    background: url(//p6iiiwy0l.bkt.clouddn.com/bg_2048.png) no-repeat center;\n    background-size: auto 100%;\n    z-index: 1001;\n}\n",""])},Cdx3:function(n,e,t){var o=t("sB3e"),a=t("lktj");t("uqUo")("keys",function(){return function(n){return a(o(n))}})},exHD:function(n,e,t){n.exports=t.p+"static/fonts/number.fca6997.woff2"},fZjL:function(n,e,t){n.exports={default:t("jFbC"),__esModule:!0}},jFbC:function(n,e,t){t("Cdx3"),n.exports=t("FeBl").Object.keys},m5dc:function(n,e,t){var o=t("8iHD");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);t("rjj0")("8ba84832",o,!0,{})},mmls:function(n,e,t){e=n.exports=t("FZ+f")(!1),e.push([n.i,"@keyframes fade {\n    to {transform: scale(1);opacity:1;border-radius:0}\n}\n@keyframes bluePulse{\n    from {\n        background-color: #007d9a;\n        box-shadow: 0 0 9px #333;\n    }\n\n    50% {\n        background-color: #2daebf;\n        box-shadow: 0 0 18px #2daebf;\n    }\n\n    to {\n        background-color: #007d9a;\n        box-shadow: 0 0 9px #333;\n    }\n}\n\n@keyframes x0{to{left:0;}}\n.x0{animation:x0 .2s ease  forwards}\n@keyframes x25{to{left:25%;}}\n.x25{animation:x25 .2s ease  forwards}\n@keyframes x50{to{left:50%;}}\n.x50{animation:x50 .2s ease  forwards}\n@keyframes x75{to{left:75%;}}\n.x75{animation:x75 .2s ease  forwards}\n\n@keyframes y0{to{top:0;}}\n.y0{animation:y0 .2s ease  forwards}\n@keyframes y25{to{top:25%;}}\n.y25{animation:y25 .2s ease  forwards}\n@keyframes y50{to{top:50%;}}\n.y50{animation:y50 .2s ease  forwards}\n@keyframes y75{to{top:75%;}}\n.y75{animation:y75 .2s ease  forwards}\n\n\n#game2048{\n    width:100%;\n    position:relative;\n    font-family: Inknut Antiqua,Clear Sans, Helvetica Neue, Arial, sans-serif;\n}\n#game2048 ul{\n    list-style:none;\n    display:inline-block;\n    margin-top:1.335rem;\n    padding:0;\n    position:relative;\n    height:0;\n    padding-top:100%;\n    width:100%;\n    opacity: .95;\n}\n.mask{\n    position:absolute;\n    top:1.335rem;\n    left:0;\n    width:100%;\n    padding-bottom:100%;\n    background:rgba(0,0,0,0.38);\n}\n.mask div{\n    cursor:pointer;\n    width:100%;\n    height:100%;\n    position:absolute;\n    font-size:3.5em;\n    font-weight:bold;\n    color:#ddd;\n    display:flex;\n    justify-content:center;\n    align-items:center;\n    text-shadow: 2px 2px 10px #555;\n}\n#game2048 button{\n    width:100px;\n    height:50px;\n    line-height:50px;\n    font-size:20px;\n    display:block;\n    cursor:pointer;\n    margin:20px auto;\n    background-color: #2daebf;\n    border-color: #238896;\n    color: white;\n    box-shadow: 0 -2px 0 rgba(0,0,0,0.2) inset;\n    border-radius: 4px;\n    transition: background-color 300ms ease-out;\n    animation:bluePulse 2s 4s infinite;\n}\n.box{\n    width:25%;\n    height:25%;\n    line-height:200%;\n    text-align:center;\n    position:absolute;\n    font-size:2.8em;\n    cursor:pointer;\n    background: hsla(30,37%,89%,.35);\n    border: 1px solid #ccc;\n    box-shadow: 1px 1px 4px;\n    box-sizing: border-box;\n    -webkit-user-select: none;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    /*animation:appear .5s ease-in;\n    transition:background .3s,color .3s .3s;*/\n}\n.empty{\n    background:#f0f0f0;\n    box-shadow: inset 1px 1px 3px  #929292;\n}\n.combin{\n    z-index:1;\n    opacity:0;\n    transform: scale(0.1);\n    border-radius:50%;\n    animation:fade 200ms ease;\n}\n\n.s2{\n    background: #f8f3e8;\n    box-shadow: 0 0 30px 10px rgba(243, 215, 116, 0), inset 0 0 0 1px rgba(255, 255, 255, 0);\n}\n.s4{\n    background: #ede0c8;\n    box-shadow: 0 0 30px 10px rgba(243, 215, 116, 0), inset 0 0 0 1px rgba(255, 255, 255, 0);\n}\n.s8{\n    color: #f9f6f2;\n    background: #f2b179;\n}\n.s16{\n    color: #f9f6f2;\n    background: #f59563;\n}\n.s32{\n    color: #f9f6f2;\n    background: #f67c5f;\n}\n.s64{\n    color: #f9f6f2;\n    background: #f65e3b;\n}\n.s128{\n    color: #f9f6f2;\n    background: #edcf72;\n    box-shadow: 0 0 30px 10px rgba(243, 215, 116, 0.2381), inset 0 0 0 1px rgba(255, 255, 255, 0.14286);\n}\n.s256{\n    color: #f9f6f2;\n    background: #edcc61;\n    box-shadow: 0 0 30px 10px rgba(243, 215, 116, 0.31746), inset 0 0 0 1px rgba(255, 255, 255, 0.19048);\n}\n.s512{\n    color: #f9f6f2;\n    background: #edc850;\n    box-shadow: 0 0 30px 10px rgba(243, 215, 116, 0.39683), inset 0 0 0 1px rgba(255, 255, 255, 0.2381);\n}\n.s1024{\n    color: #f9f6f2;\n    background: #edc53f;\n    font-size:2em;\n    box-shadow: 0 0 30px 10px rgba(243, 215, 116, 0.47619), inset 0 0 0 1px rgba(255, 255, 255, 0.28571);\n}\n.s2048{\n    color: #f9f6f2;\n    background: #edc22e;\n    font-size:2em;\n    box-shadow: 0 0 30px 10px rgba(243, 215, 116, 0.55556), inset 0 0 0 1px rgba(255, 255, 255, 0.33333);\n}\n.s4096{\n    color: #f9f6f2;\n    background: #61c0ed;\n    font-size:2em;\n    box-shadow: 0 0 30px 10px hsla(211, 84%, 70%, 0.45),inset 0 0 0 1px hsla(0,0%,100%,.33333);\n\n}\n/*.show-transition {\n  transition: all .5s ease;\n  transform:scale(1) rotate(360deg);\n  border-radius:0;\n  opacity:1;\n}\n.show-enter,.show-leave{\n  transform:scale(0) rotate(0);\n  border-radius:50%;\n  opacity:0;\n}*/\n\n/*@media all and (orientation : landscape){\n    #app{\n        width:30%;\n        margin-top:5%;\n    }\n}*/\n",""])},uqUo:function(n,e,t){var o=t("kM2E"),a=t("FeBl"),s=t("S82l");n.exports=function(n,e){var t=(a.Object||{})[n]||Object[n],r={};r[n]=e(t),o(o.S+o.F*s(function(){t(1)}),"Object",r)}}});